{"version":3,"sources":["webpack:///../../../src/mixins/rippleable/index.ts","webpack:///../../../src/mixins/selectable/index.ts","webpack:///../../../src/components/VSwitch/VSwitch.ts","webpack:///./src/views/Imconfig.vue?5be5","webpack:///./src/views/Imconfig.vue?f182","webpack:///./src/views/Imconfig.vue","webpack:///./src/views/Imconfig.vue?9782","webpack:///../../../src/components/VBtnToggle/VBtnToggle.ts","webpack:///./src/views/Imconfig.vue?f1fe"],"names":["name","directives","ripple","props","type","Boolean","default","methods","genRipple","data","this","value","center","Object","click","onChange","$createElement","mixins","model","prop","event","id","inputValue","falseValue","trueValue","multiple","label","String","hasColor","lazyValue","computed","computedColor","isDark","isMultiple","Array","isActive","input","item","undefined","valueComparator","isDirty","rippleState","watch","genLabel","VInput","e","genInput","attrs","disabled","role","domProps","checked","on","blur","change","focus","keydown","onKeydown","ref","onBlur","length","onFocus","Touch","inset","loading","flat","classes","validationState","hasError","switchData","setTextColor","class","themeClasses","genDefaultSlot","genSwitch","staticClass","attrs$","left","right","onSwipeRight","genProgress","$slots","progress","VProgressCircular","color","size","width","indeterminate","onSwipeLeft","_vm","_h","_c","_self","report","staticStyle","_v","_s","IsAdmin","_e","callback","$$v","IsUSD","expression","ViewMode","ReportsSelect","ShowReports","BtcNumEnds","BtcNumEnd","DataNums","DataNum","scopedSlots","_u","key","fn","_g","_b","settingDailog","params","$set","Hedging","_l","index","_n","$event","OrderRule","splice","ChooseRule","push","Price","Position","Next","Type","settingDailogSub","ActiveRule","style","height","RuleChoosed","RunderSetting","validate","deleteIt","loaded","loadeddata","Reports","detailMin","detailMax","detailValue","proxy","staticRenderFns","myChart","myChart2","myChart3","DateMax","Date","now","KlineData","ViewModeText","TipDialog","modal","Times","Dates","TipDialogData","Prices","OnSomeChange","console","log","Render","RuleTypes","OpenOrderMaxCount","Runner","Key","AppStore","localState","UserKey","BasePrice","BasePriceWeight","GridDiff","MaxStepVol","Time","Pwd","ReportKey","BakSetting","PricePosition","HedgingDiffVol","serverparams","OrderRuleModel","Infinity","SnapshotData","Runder3","last","end","lastBtcSum","lastDetail","details","filter","open","close","p","Math","pow","diff","floor","per","price","subtext","diffTs","Ts","nextDiff","ceil","nextDiffTs","timestr","nextBtc","setOption","legend","title","xAxis","map","series","yAxisIndex","areaStyle","$nextTick","$AppStore","Error","Title","Content","forEach","slice","min","strs","replace","Last24H","LastChange","match","str","FileName","s","revert","lastP","da","p24h","BtcSum","UsdSum","quantity","ArrayFilter","arr","num","diffOut","ii","i","sort","a","b","err","max","lastPrice","pos","init","$refs","MinPrice","PriceDiff","PriceDiffCount","xx","join","split","yy","bakRule","rule","perRule","begin","pp","add","Line","PicL","Pic7","bp","ep","x","tooltip","trigger","axisPointer","backgroundColor","grid","bottom","containLabel","boundaryGap","yAxis","mountedd","val","indexOf","GetParams","dialog","save","getTime","temp","setTime","TimesCache","GetData","MyAccount","selected","BTC价格","账户资产","持仓","dataZoom","show","start","text","top","position","axisLabel","formatter","splitLine","offset","MyAccountReport","nameGap","nameTextStyle","fontSize","axisLine","lineStyle","nameLocation","visualMap","dimension","itemHeight","precision","textGap","textStyle","inRange","colorLightness","symbolSize","colorAlpha","outOfRange","controller","MyAccountDetail","scale","onZero","btcsss","y","usdsss","conf","render","xxx","all","DataFilter","sum","kline","low","high","itemStyle","opacity","shadowBlur","shadowOffsetX","shadowOffsetY","shadowColor","prices","btcs","tss","lastFile","times","TodayStr","$AnalysisStore","Data","unshift","thisIndex","next","GetJson","IsUsdBenWei","OnViewModeChange","find","AdminUsers","RenderInit","check","post","then","res","Msg","bool","confirm","ApiInfo","DataKey","window","__Build_Time","parseInt","r1","yyyy","MM","dd","$route","query","immediate","deep","components","borderless","dense","group","rounded","shaped","tile","genData","setBackgroundColor","component","VAlert","VBtn","VBtnToggle","VCard","VCardText","VCol","VContainer","VDialog","VForm","VIcon","VItemGroup","VListItem","VListItemAction","VListItemContent","VList","VListItemIcon","VRow","VSelect","VSlider","VSwitch","VTextField"],"mappings":"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","file":"static/js/chunk-907568fa.93ac718e.js","sourcesContent":["// Directives\nimport ripple from '../../directives/ripple'\n\n// Types\nimport Vue, { VNode, VNodeData, VNodeDirective } from 'vue'\n\nexport default Vue.extend({\n  name: 'rippleable',\n\n  directives: { ripple },\n\n  props: {\n    ripple: {\n      type: [Boolean, Object],\n      default: true,\n    },\n  },\n\n  methods: {\n    genRipple (data: VNodeData = {}): VNode | null {\n      if (!this.ripple) return null\n\n      data.staticClass = 'v-input--selection-controls__ripple'\n\n      data.directives = data.directives || []\n      data.directives.push({\n        name: 'ripple',\n        value: { center: true },\n      } as VNodeDirective)\n      data.on = Object.assign({\n        click: this.onChange,\n      }, this.$listeners)\n\n      return this.$createElement('div', data)\n    },\n    onChange () {},\n  },\n})\n","// Components\nimport VInput from '../../components/VInput'\n\n// Mixins\nimport Rippleable from '../rippleable'\nimport Comparable from '../comparable'\n\n// Utilities\nimport mixins from '../../util/mixins'\n\n/* @vue/component */\nexport default mixins(\n  VInput,\n  Rippleable,\n  Comparable\n).extend({\n  name: 'selectable',\n\n  model: {\n    prop: 'inputValue',\n    event: 'change',\n  },\n\n  props: {\n    id: String,\n    inputValue: null as any,\n    falseValue: null as any,\n    trueValue: null as any,\n    multiple: {\n      type: Boolean,\n      default: null,\n    },\n    label: String,\n  },\n\n  data () {\n    return {\n      hasColor: this.inputValue,\n      lazyValue: this.inputValue,\n    }\n  },\n\n  computed: {\n    computedColor (): string | undefined {\n      if (!this.isActive) return undefined\n      if (this.color) return this.color\n      if (this.isDark && !this.appIsDark) return 'white'\n      return 'primary'\n    },\n    isMultiple (): boolean {\n      return this.multiple === true || (this.multiple === null && Array.isArray(this.internalValue))\n    },\n    isActive (): boolean {\n      const value = this.value\n      const input = this.internalValue\n\n      if (this.isMultiple) {\n        if (!Array.isArray(input)) return false\n\n        return input.some(item => this.valueComparator(item, value))\n      }\n\n      if (this.trueValue === undefined || this.falseValue === undefined) {\n        return value\n          ? this.valueComparator(value, input)\n          : Boolean(input)\n      }\n\n      return this.valueComparator(input, this.trueValue)\n    },\n    isDirty (): boolean {\n      return this.isActive\n    },\n    rippleState (): string | undefined {\n      return !this.isDisabled && !this.validationState\n        ? undefined\n        : this.validationState\n    },\n  },\n\n  watch: {\n    inputValue (val) {\n      this.lazyValue = val\n      this.hasColor = val\n    },\n  },\n\n  methods: {\n    genLabel () {\n      const label = VInput.options.methods.genLabel.call(this)\n\n      if (!label) return label\n\n      label!.data!.on = {\n        click: (e: Event) => {\n          // Prevent label from\n          // causing the input\n          // to focus\n          e.preventDefault()\n\n          this.onChange()\n        },\n      }\n\n      return label\n    },\n    genInput (type: string, attrs: object) {\n      return this.$createElement('input', {\n        attrs: Object.assign({\n          'aria-checked': this.isActive.toString(),\n          disabled: this.isDisabled,\n          id: this.computedId,\n          role: type,\n          type,\n        }, attrs),\n        domProps: {\n          value: this.value,\n          checked: this.isActive,\n        },\n        on: {\n          blur: this.onBlur,\n          change: this.onChange,\n          focus: this.onFocus,\n          keydown: this.onKeydown,\n        },\n        ref: 'input',\n      })\n    },\n    onBlur () {\n      this.isFocused = false\n    },\n    onChange () {\n      if (!this.isInteractive) return\n\n      const value = this.value\n      let input = this.internalValue\n\n      if (this.isMultiple) {\n        if (!Array.isArray(input)) {\n          input = []\n        }\n\n        const length = input.length\n\n        input = input.filter((item: any) => !this.valueComparator(item, value))\n\n        if (input.length === length) {\n          input.push(value)\n        }\n      } else if (this.trueValue !== undefined && this.falseValue !== undefined) {\n        input = this.valueComparator(input, this.trueValue) ? this.falseValue : this.trueValue\n      } else if (value) {\n        input = this.valueComparator(input, value) ? null : value\n      } else {\n        input = !input\n      }\n\n      this.validate(true, input)\n      this.internalValue = input\n      this.hasColor = input\n    },\n    onFocus () {\n      this.isFocused = true\n    },\n    /** @abstract */\n    onKeydown (e: Event) {},\n  },\n})\n","// Styles\nimport '../../styles/components/_selection-controls.sass'\nimport './VSwitch.sass'\n\n// Mixins\nimport Selectable from '../../mixins/selectable'\nimport VInput from '../VInput'\n\n// Directives\nimport Touch from '../../directives/touch'\n\n// Components\nimport { VFabTransition } from '../transitions'\nimport VProgressCircular from '../VProgressCircular/VProgressCircular'\n\n// Helpers\nimport { keyCodes } from '../../util/helpers'\n\n// Types\nimport { VNode, VNodeData } from 'vue'\n\n/* @vue/component */\nexport default Selectable.extend({\n  name: 'v-switch',\n\n  directives: { Touch },\n\n  props: {\n    inset: Boolean,\n    loading: {\n      type: [Boolean, String],\n      default: false,\n    },\n    flat: {\n      type: Boolean,\n      default: false,\n    },\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        ...VInput.options.computed.classes.call(this),\n        'v-input--selection-controls v-input--switch': true,\n        'v-input--switch--flat': this.flat,\n        'v-input--switch--inset': this.inset,\n      }\n    },\n    attrs (): object {\n      return {\n        'aria-checked': String(this.isActive),\n        'aria-disabled': String(this.isDisabled),\n        role: 'switch',\n      }\n    },\n    // Do not return undefined if disabled,\n    // according to spec, should still show\n    // a color when disabled and active\n    validationState (): string | undefined {\n      if (this.hasError && this.shouldValidate) return 'error'\n      if (this.hasSuccess) return 'success'\n      if (this.hasColor !== null) return this.computedColor\n      return undefined\n    },\n    switchData (): VNodeData {\n      return this.setTextColor(this.loading ? undefined : this.validationState, {\n        class: this.themeClasses,\n      })\n    },\n  },\n\n  methods: {\n    genDefaultSlot (): (VNode | null)[] {\n      return [\n        this.genSwitch(),\n        this.genLabel(),\n      ]\n    },\n    genSwitch (): VNode {\n      return this.$createElement('div', {\n        staticClass: 'v-input--selection-controls__input',\n      }, [\n        this.genInput('checkbox', {\n          ...this.attrs,\n          ...this.attrs$,\n        }),\n        this.genRipple(this.setTextColor(this.validationState, {\n          directives: [{\n            name: 'touch',\n            value: {\n              left: this.onSwipeLeft,\n              right: this.onSwipeRight,\n            },\n          }],\n        })),\n        this.$createElement('div', {\n          staticClass: 'v-input--switch__track',\n          ...this.switchData,\n        }),\n        this.$createElement('div', {\n          staticClass: 'v-input--switch__thumb',\n          ...this.switchData,\n        }, [this.genProgress()]),\n      ])\n    },\n    genProgress (): VNode {\n      return this.$createElement(VFabTransition, {}, [\n        this.loading === false\n          ? null\n          : this.$slots.progress || this.$createElement(VProgressCircular, {\n            props: {\n              color: (this.loading === true || this.loading === '')\n                ? (this.color || 'primary')\n                : this.loading,\n              size: 16,\n              width: 2,\n              indeterminate: true,\n            },\n          }),\n      ])\n    },\n    onSwipeLeft () {\n      if (this.isActive) this.onChange()\n    },\n    onSwipeRight () {\n      if (!this.isActive) this.onChange()\n    },\n    onKeydown (e: KeyboardEvent) {\n      if (\n        (e.keyCode === keyCodes.left && this.isActive) ||\n        (e.keyCode === keyCodes.right && !this.isActive)\n      ) this.onChange()\n    },\n  },\n})\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Imconfig.vue?vue&type=style&index=0&id=a88e2bde&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Imconfig.vue?vue&type=style&index=0&id=a88e2bde&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.report)?_c('div',{staticClass:\"center\"},[_c('h1',{staticClass:\"sitename\"},[_vm._v(\"参数错误\")])]):_c('div',{staticClass:\"page-index\"},[_c('div',{staticClass:\"center\",staticStyle:{\"padding-top\":\"20px\"}},[_c('p',[_vm._v(\"账号: \"+_vm._s(_vm.report))]),(!_vm.IsAdmin)?_c('p',[_vm._v(\"无当前账号设置权限\")]):_vm._e()]),_c('v-btn-toggle',{attrs:{\"color\":\"primary\",\"tile\":\"\",\"dense\":\"\"},model:{value:(_vm.IsUSD),callback:function ($$v) {_vm.IsUSD=$$v},expression:\"IsUSD\"}},[_c('v-btn',[_vm._v(\"BTC本位\")]),_c('v-btn',[_vm._v(\"USD本位\")])],1),_c('v-btn-toggle',{attrs:{\"color\":\"primary\",\"mandatory\":\"\",\"tile\":\"\",\"dense\":\"\"},model:{value:(_vm.ViewMode),callback:function ($$v) {_vm.ViewMode=$$v},expression:\"ViewMode\"}},[_c('v-btn',[_vm._v(\"最近24小时\")]),_c('v-btn',[_vm._v(\"最近视图\")]),_c('v-btn',[_vm._v(\"总视图\")]),_c('v-btn',[_vm._v(\"自定义视图\")])],1),(_vm.ViewMode === 3)?[_c('v-select',{attrs:{\"items\":_vm.ReportsSelect,\"filled\":\"\",\"chips\":\"\",\"label\":\"选择查看数据\",\"multiple\":\"\"},model:{value:(_vm.ShowReports),callback:function ($$v) {_vm.ShowReports=$$v},expression:\"ShowReports\"}}),_c('v-select',{attrs:{\"items\":_vm.BtcNumEnds,\"filled\":\"\",\"chips\":\"\",\"label\":\"资产,小数精确位数\"},model:{value:(_vm.BtcNumEnd),callback:function ($$v) {_vm.BtcNumEnd=$$v},expression:\"BtcNumEnd\"}}),_c('v-select',{attrs:{\"items\":_vm.DataNums,\"filled\":\"\",\"chips\":\"\",\"label\":\"查看每日采样数据：份\"},model:{value:(_vm.DataNum),callback:function ($$v) {_vm.DataNum=$$v},expression:\"DataNum\"}})]:_vm._e(),_c('v-dialog',{scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticStyle:{\"top\":\"80px\"},attrs:{\"color\":\"primary\",\"fixed\":\"\",\"top\":\"\",\"right\":\"\",\"small\":\"\",\"fab\":\"\"}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\"mdi-view-dashboard-outline\")])],1)]}}]),model:{value:(_vm.settingDailog),callback:function ($$v) {_vm.settingDailog=$$v},expression:\"settingDailog\"}},[_c('v-form',{ref:\"form\",staticStyle:{\"padding\":\"20px\",\"background-color\":\"#ffffff\"},attrs:{\"lazy-validation\":\"\"}},[_c('v-btn-toggle',{attrs:{\"color\":\"primary\",\"tile\":\"\",\"mandatory\":\"\",\"dense\":\"\"},model:{value:(_vm.params.Hedging),callback:function ($$v) {_vm.$set(_vm.params, \"Hedging\", $$v)},expression:\"params.Hedging\"}},[_c('v-btn',[_vm._v(\"合约网格\")]),_c('v-btn',[_vm._v(\"USD本位 BTC对冲\")])],1),(_vm.params.Hedging === 0)?[_vm._l((_vm.params.OrderRule),function(item,index){return _c('v-list-item',{key:index,attrs:{\"dense\":\"\",\"active-class\":\"text--accent-4\"}},[_c('v-list-item-icon',[_c('v-text-field',{staticStyle:{\"width\":\"80px\"},attrs:{\"required\":\"\",\"label\":'价格' + (index + 1),\"type\":\"number\"},model:{value:(item.Price),callback:function ($$v) {_vm.$set(item, \"Price\", _vm._n($$v))},expression:\"item.Price\"}})],1),_c('v-list-item-content',[_c('v-text-field',{staticStyle:{\"width\":\"80px\"},attrs:{\"required\":\"\",\"label\":'持仓(负为空)',\"type\":\"number\"},model:{value:(item.Position),callback:function ($$v) {_vm.$set(item, \"Position\", _vm._n($$v))},expression:\"item.Position\"}})],1),_c('v-list-item-action',[_c('v-icon',{attrs:{\"color\":\"error\"},on:{\"click\":function($event){return _vm.params.OrderRule.splice(index, 1)}}},[_vm._v(\"mdi-close-circle\")]),(index < _vm.params.OrderRule.length - 1)?_c('v-icon',{attrs:{\"color\":\"primary\"},on:{\"click\":function($event){return _vm.ChooseRule(item)}}},[_vm._v(\"mdi-vector-radius\")]):_vm._e()],1)],1)}),_c('v-list-item',{attrs:{\"dense\":\"\"}},[_c('v-list-item-content',[_c('v-icon',{attrs:{\"color\":\"primary\"},on:{\"click\":function($event){return _vm.params.OrderRule.push({ Price: 0, Position: 0, Next: { Type: '', Position: 0, Price: 0 } })}}},[_vm._v(\"mdi-plus-circle\")])],1)],1)]:[_c('v-text-field',{staticStyle:{\"margin-top\":\"10px\"},attrs:{\"required\":\"\",\"outlined\":\"\",\"label\":\"持仓偏移量\",\"type\":\"number\"},model:{value:(_vm.params.HedgingDiffVol),callback:function ($$v) {_vm.$set(_vm.params, \"HedgingDiffVol\", _vm._n($$v))},expression:\"params.HedgingDiffVol\"}})],_c('v-dialog',{model:{value:(_vm.settingDailogSub),callback:function ($$v) {_vm.settingDailogSub=$$v},expression:\"settingDailogSub\"}},[_c('v-item-group',{staticStyle:{\"background-color\":\"#ffffff\"}},[_c('v-container',[_c('v-row',[_c('v-card-text',[_vm._v(\"函数模型，不懂的请选择最后一个，切勿乱选，影响收益\")]),_vm._l((_vm.RuleTypes),function(item){return _c('v-col',{key:item,attrs:{\"cols\":\"6\",\"md\":\"2\"}},[_c('v-card',{staticClass:\"d-flex align-center\",attrs:{\"height\":\"100\"}},[_c('div',{class:_vm.ActiveRule && _vm.ActiveRule.Next.Type === item ? 'div-active' : '',style:({ 'background-image': 'url(/t-' + item + '.svg)', width: '100%', height: '100%' }),attrs:{\"type\":\"image/svg+xml\"},on:{\"click\":function($event){return _vm.RuleChoosed(item)}}})])],1)})],2)],1)],1)],1),_c('v-text-field',{staticStyle:{\"margin-top\":\"10px\"},attrs:{\"required\":\"\",\"label\":\"单次挂单上限(张)\",\"type\":\"number\",\"outlined\":\"\"},model:{value:(_vm.params.MaxStepVol),callback:function ($$v) {_vm.$set(_vm.params, \"MaxStepVol\", _vm._n($$v))},expression:\"params.MaxStepVol\"}}),_c('v-text-field',{attrs:{\"required\":\"\",\"label\":\"挂单数量（单边，1~25）\",\"type\":\"number\",\"outlined\":\"\"},model:{value:(_vm.params.OpenOrderMaxCount),callback:function ($$v) {_vm.$set(_vm.params, \"OpenOrderMaxCount\", _vm._n($$v))},expression:\"params.OpenOrderMaxCount\"}}),_c('v-text-field',{attrs:{\"required\":\"\",\"label\":\"挂单间隔(USD，0.5的倍数)\",\"type\":\"number\",\"outlined\":\"\"},model:{value:(_vm.params.GridDiff),callback:function ($$v) {_vm.$set(_vm.params, \"GridDiff\", _vm._n($$v))},expression:\"params.GridDiff\"}}),(_vm.IsAdmin)?_c('v-text-field',{attrs:{\"required\":\"\",\"label\":\"api key\",\"type\":\"text\",\"outlined\":\"\",\"clearable\":\"\"},model:{value:(_vm.params.Key),callback:function ($$v) {_vm.$set(_vm.params, \"Key\", $$v)},expression:\"params.Key\"}}):_vm._e(),(_vm.IsAdmin)?_c('v-text-field',{attrs:{\"required\":\"\",\"label\":\"密码\",\"type\":\"password\",\"outlined\":\"\",\"clearable\":\"\"},model:{value:(_vm.params.Pwd),callback:function ($$v) {_vm.$set(_vm.params, \"Pwd\", $$v)},expression:\"params.Pwd\"}}):_vm._e(),(_vm.IsAdmin)?_c('v-switch',{staticClass:\"ma-2\",attrs:{\"label\":\"策略开关（保存后生效）\"},model:{value:(_vm.params.Runner),callback:function ($$v) {_vm.$set(_vm.params, \"Runner\", $$v)},expression:\"params.Runner\"}}):_vm._e(),(_vm.params.Hedging === 0)?_c('v-btn',{staticClass:\"mr-4\",attrs:{\"color\":\"primary\"},on:{\"click\":_vm.RunderSetting}},[_c('v-icon',[_vm._v(\"mdi-refresh\")]),_vm._v(\" 预览策略视图 \")],1):_vm._e(),(_vm.params.Hedging === 0)?_c('div',{ref:\"params\",staticStyle:{\"padding-bottom\":\"20px\",\"width\":\"280px\",\"height\":\"300px\"}}):_vm._e(),(_vm.IsAdmin)?_c('v-btn',{staticClass:\"mr-4\",attrs:{\"color\":\"success\"},on:{\"click\":_vm.validate}},[_vm._v(\"保存\")]):_vm._e(),(_vm.IsAdmin)?_c('v-btn',{staticClass:\"mr-4\",attrs:{\"color\":\"error\"},on:{\"click\":_vm.deleteIt}},[_vm._v(\"永久删除\")]):_vm._e()],2)],1),(_vm.loaded && _vm.loadeddata && _vm.params.Reports.length === 0)?_c('v-alert',{attrs:{\"type\":\"error\"}},[_vm._v(\" 该账号，暂无报表数据 \")]):_vm._e(),_c('div',{staticClass:\"section\"},[_c('div',{ref:\"MyAccount\",staticClass:\"echarts\",staticStyle:{\"padding-top\":\"10px\"}}),_c('div',{ref:\"MyAccountReport\",staticClass:\"echarts\",staticStyle:{\"padding-top\":\"40px\"}}),_c('div',{ref:\"MyAccountDetail\",staticClass:\"echarts\",staticStyle:{\"padding-top\":\"40px\"}}),_c('v-slider',{attrs:{\"thumb-label\":\"always\",\"thumb-size\":50,\"min\":_vm.detailMin,\"max\":_vm.detailMax,\"step\":0.5},scopedSlots:_vm._u([{key:\"prepend\",fn:function(){return [_c('v-icon',{attrs:{\"color\":\"primary\"},on:{\"click\":function($event){_vm.detailValue -= 0.5}}},[_vm._v(\" mdi-minus \")])]},proxy:true},{key:\"append\",fn:function(){return [_c('v-icon',{attrs:{\"color\":\"primary\"},on:{\"click\":function($event){_vm.detailValue += 0.5}}},[_vm._v(\" mdi-plus \")])]},proxy:true}]),model:{value:(_vm.detailValue),callback:function ($$v) {_vm.detailValue=$$v},expression:\"detailValue\"}})],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue, Watch } from 'vue-property-decorator';\r\nimport { clone, DateFormat, sleep } from '../lib/utils';\r\nimport echarts from 'echarts';\r\nimport urijs from 'urijs';\r\nimport { debounce, throttle } from 'ts-debounce-throttle';\r\nimport { FunApi } from '@/api/fun';\r\nimport { CodeObj } from '@/lib/Code';\r\nimport { PageLoading } from '@/lib/page-loading';\r\nlet myChart: echarts.ECharts | null = null;\r\nlet myChart2: echarts.ECharts | null = null;\r\nlet myChart3: echarts.ECharts | null = null;\r\n\r\nconst DateMax = DateFormat(Date.now(), 'yyyy-MM-dd');\r\n\r\ninterface LogData {\r\n  Ts: number;\r\n  p24h: number;\r\n  Price: number;\r\n  BtcSum: number;\r\n  UsdSum: number;\r\n  quantity: number;\r\n  // WantPos: number | number[];\r\n}\r\n\r\ninterface KData {\r\n  low: number;\r\n  high: number;\r\n  open: number;\r\n  close: number;\r\n  price: number;\r\n  details: LogData[];\r\n}\r\nlet KlineData: {\r\n  [index: string]: KData;\r\n} = {};\r\n\r\ntype RuleTypeEnum = '' | 'LL' | '77' | 'L7' | '7L' | 'L' | '7';\r\nexport interface RuleType {\r\n  Type: RuleTypeEnum;\r\n  Position: number;\r\n  Price: number;\r\n}\r\nexport interface OrderRule {\r\n  Price: number;\r\n  Position: number;\r\n  Next: RuleType;\r\n}\r\n\r\n// 以24小时均价为基准线。上下浮动范围调整仓位。\r\nexport interface UserParams {\r\n  OrderRule: OrderRule[]; // 用户设置每个点位的持仓量，以此推算网格\r\n  MaxStepVol: number; // 每次下单最多不能超过该金额\r\n  OpenOrderMaxCount: number; // 单边挂单数量\r\n  Runner: boolean;\r\n  BasePriceWeight: number; // 基准价格权重，为1表示忽略24H均价。\r\n  BasePrice: number; // 基准价格，中间价格\r\n  GridDiff: number; // 订单间隔\r\n  Reports: string[]; // 当前用户每日报表文件记录\r\n  ReportKey: string;\r\n  Time: number; // 该配置的设置时间\r\n  Pwd: string;\r\n  Key: string;\r\n  BakSetting: UserParams[]; // 链式记录上一次的配置\r\n  PricePosition: number[][];\r\n  Hedging: number; // 是否是对冲策略\r\n  HedgingDiffVol: number;\r\n}\r\n\r\ninterface SnapshotData {\r\n  data: LogData[];\r\n  FileName: string;\r\n}\r\n\r\n@Component({\r\n  components: {},\r\n})\r\nexport default class ImconfigPage extends Vue {\r\n  ViewModeText = ['最近24小时策略形成的数据', '变更参数 10 分钟后至今，策略形成的数据', '该账号注册以来所有数据采样得出的视图', '自定义数据和采样精度，分析数据'];\r\n  TipDialog = false;\r\n  get IsUSD() {\r\n    if (this.$AppStore.localState.IsUsdBenWei[this.report] === 0) return 0;\r\n    return 1;\r\n  }\r\n  set IsUSD(val) {\r\n    this.$set(this.$AppStore.localState.IsUsdBenWei, this.report, val);\r\n  }\r\n  loaded = false;\r\n  loadeddata = false;\r\n  settingDailog = false;\r\n  settingDailogSub = false;\r\n  ViewMode = 2;\r\n  modal = false;\r\n  DateMax = DateMax;\r\n  Times = [DateMax, DateMax];\r\n  Dates = [DateMax, DateMax];\r\n  get BuildTime() {\r\n    const Time = window.__Build_Time === '__Build_Time__' ? Date.now() : parseInt(window.__Build_Time, 10);\r\n    return DateFormat(Time, 'yyyy-MM-dd hh:mm');\r\n  }\r\n\r\n  ShowReports: string[] = []; // 报表选择\r\n  BtcNumEnd = 6; // 小数点位数精确至\r\n  DataNum = 3000; // 每日数据采样数量\r\n\r\n  BtcNumEnds = [4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14];\r\n  DataNums = [500, 1000, 2000, 3000, 4000, 5000];\r\n\r\n  TipDialogData = {\r\n    Prices: [] as Array<{ Title: string; Content: string }>,\r\n  };\r\n  @Watch('TipDialog')\r\n  async OnTipDialogChange() {\r\n    if (!this.TipDialog) return;\r\n    await this.$nextTick();\r\n    if (!this.serverparams) {\r\n      this.TipDialog = false;\r\n      this.$AppStore.Error('资源未加载完成');\r\n      return;\r\n    }\r\n    const Prices = [\r\n      { Title: '做多区间（持【多单】）', Content: '' },\r\n      { Title: '部分套保（持一倍以下【空单】）', Content: '' },\r\n      { Title: '对冲区间（持一倍【空单】）', Content: '' },\r\n      { Title: '做空区间（持一倍以上【空单】）', Content: '' },\r\n    ];\r\n    this.serverparams.PricePosition.forEach((item) => {\r\n      //\r\n    });\r\n    this.TipDialogData.Prices.splice(0, this.TipDialogData.Prices.length, ...Prices);\r\n  }\r\n\r\n  @Watch('ViewMode', { immediate: true })\r\n  OnViewModeChange() {\r\n    if (this.ViewMode === 0) {\r\n      this.ShowReports = this.ReportsSelect.slice(this.ReportsSelect.length - Math.min(this.ReportsSelect.length, 2)); // 最近2天的数据\r\n      this.BtcNumEnd = this.BtcNumEnds[this.BtcNumEnds.length - 1];\r\n      this.DataNum = this.DataNums[this.DataNums.length - 1];\r\n    } else if (this.ViewMode === 1) {\r\n      // 获得最后变更参数的时间点\r\n      // const LastChange = this.params.Time;\r\n      this.ShowReports = this.ReportsSelect.slice(0);\r\n      this.BtcNumEnd = 6;\r\n      this.DataNum = this.DataNums[0];\r\n    } else if (this.ViewMode === 2) {\r\n      this.ShowReports = this.ReportsSelect.slice(0);\r\n      this.BtcNumEnd = 6;\r\n      this.DataNum = this.DataNums[0];\r\n    } else {\r\n      this.ShowReports = this.ReportsSelect.slice(this.ReportsSelect.length - Math.min(this.ReportsSelect.length, 5)); // 最近 5 天的数据\r\n      this.BtcNumEnd = 6;\r\n      this.DataNum = 3000;\r\n    }\r\n  }\r\n\r\n  @Watch('BtcNumEnd')\r\n  @Watch('IsUSD')\r\n  @Watch('DataNum')\r\n  @Watch('ShowReports', { deep: true })\r\n  OnSomeChange = debounce(function(this: ImconfigPage) {\r\n    console.log('OnSomeChange');\r\n    if (this.loaded && this.loadeddata) this.Render();\r\n  }, 1500);\r\n\r\n  get ReportsSelect() {\r\n    return this.params.Reports.map((item) => {\r\n      return item.replace(/(.*?)\\/(\\d\\d\\d\\d)\\/(\\d\\d)\\/(\\d\\d)\\.json/, (all, r1, yyyy, MM, dd) => {\r\n        // console.log(all, r1, yyyy, MM, dd);\r\n        return `${yyyy}-${MM}-${dd}`;\r\n      });\r\n    });\r\n  }\r\n\r\n  DataFilter(data: SnapshotData[]) {\r\n    const strs = this.ShowReports.map((item) => item.replace(/-/g, '/'));\r\n    const Last24H = Date.now() - 86400000; // 24H\r\n    let LastChange = this.params.Time + 10 * 60 * 1000;\r\n    if (LastChange >= this.params.Time + 11 * 60 * 1000) LastChange = 0; // 数据太少。这项条件删除\r\n\r\n    return data\r\n      .map((item) => {\r\n        const match = strs.filter((str) => item.FileName.match(str))[0];\r\n        if (!match) {\r\n          return {\r\n            data: [],\r\n            FileName: '',\r\n          };\r\n        }\r\n\r\n        const s = Math.pow(10, this.BtcNumEnd);\r\n        const revert: LogData[] = [];\r\n        let lastP = 0;\r\n        // 过滤资产不变更的数据\r\n        const key = this.IsUSD ? 'UsdSum' : 'BtcSum';\r\n        const datas = item.data.forEach((da) => {\r\n          const p = Math.floor(da[key] * s) / s;\r\n          if (p === lastP) return;\r\n          if (this.ViewMode === 0 && da.Ts < Last24H) return; // 查看最近24H的数据。\r\n          if (this.ViewMode === 1 && da.Ts < LastChange) return; // 查看最近一次修改参数后的数据\r\n          lastP = p;\r\n          const item = {\r\n            Ts: da.Ts,\r\n            p24h: da.p24h,\r\n            Price: da.Price,\r\n            BtcSum: p,\r\n            UsdSum: p,\r\n            quantity: da.quantity,\r\n          };\r\n          revert.push(item);\r\n        });\r\n        this.ArrayFilter(revert, this.DataNum);\r\n\r\n        return {\r\n          data: revert,\r\n          FileName: item.FileName,\r\n        };\r\n      })\r\n      .filter((item) => item.data.length);\r\n  }\r\n\r\n  // 采样数据\r\n  ArrayFilter(arr: any[], num: number) {\r\n    if (!arr.length) return;\r\n    const diffOut = arr.length / num; // 每隔 这么多个，留下一个\r\n    if (diffOut <= 1) return;\r\n    let ii = 0;\r\n    const map: any = {};\r\n    arr.forEach((i, index) => {\r\n      map[Math.floor(index * diffOut)] = true;\r\n      // 无需修改的有效数据\r\n      if (map[index]) {\r\n        arr[ii++] = i;\r\n        return;\r\n      }\r\n    });\r\n\r\n    const last = arr[arr.length - 1];\r\n    arr.splice(ii, arr.length - ii);\r\n    arr[arr.length - 1] = last; // 一定把最后一条数据放进去，有头有尾\r\n  }\r\n\r\n  get report() {\r\n    const key = this.$route.query.DataKey as string;\r\n    if (!key) return 'e6e53eb75ebbe4eae637898fee27dacc';\r\n    return key;\r\n  }\r\n  get IsAdmin() {\r\n    if (this.$AppStore.localState.ApiInfo.DataKey === this.report) return true;\r\n    if (this.$AppStore.localState.AdminUsers.filter((item) => item.ReportKey === this.report).length) return true;\r\n    return false;\r\n  }\r\n  @Watch('settingDailog')\r\n  async OnSettingDailogChange() {\r\n    if (!this.settingDailog) return;\r\n    await this.$nextTick();\r\n    await sleep(1000);\r\n    this.RunderSetting();\r\n  }\r\n\r\n  RuleTypes: RuleTypeEnum[] = ['L7', '7L', 'L', '7', 'LL', '77', ''];\r\n  RunderSetting() {\r\n    // 校验参数的合格性\r\n    const OrderRule: OrderRule[] = [];\r\n    this.params.OrderRule.sort((a, b) => a.Price - b.Price);\r\n\r\n    let err = '';\r\n    let max = Infinity;\r\n    let lastPrice = 0;\r\n    if (this.params.Hedging === 0) {\r\n      this.params.OrderRule.forEach((item, index) => {\r\n        const pos = `【价格${index + 1}】`;\r\n        if (err) return; // 已经定位错误了，以第一个错误为准\r\n        if (item.Price <= 0) return (err = `价格不能为 0 ${pos}`);\r\n        if (item.Position > max) return (err = `价格越大，持仓必须越小 ${pos}`);\r\n        if (item.Price === lastPrice) return (err = `价格不能重复 ${pos}`);\r\n        max = item.Position;\r\n        lastPrice = item.Price;\r\n        OrderRule.push(item);\r\n      });\r\n    }\r\n\r\n    if (!err) {\r\n      if (this.params.MaxStepVol <= 0) err = `下单上限错误`;\r\n      if (this.params.OpenOrderMaxCount <= 0) err = `单边挂单数量错误`;\r\n      if (this.params.GridDiff < 0.5) err = `挂单间隔不能小于0.5`;\r\n      if (this.params.Hedging === 0 && OrderRule.length < 2) err = '价格至少设置两个';\r\n    }\r\n    if (err) return this.$AppStore.Error(err);\r\n    if (!this.params.HedgingDiffVol) this.params.HedgingDiffVol = 0;\r\n\r\n    if (this.params.Hedging === 0) {\r\n      const myChart = echarts.init(this.$refs.params as any);\r\n\r\n      const MinPrice = OrderRule[0].Price;\r\n      const PriceDiff = OrderRule[OrderRule.length - 1].Price - MinPrice;\r\n\r\n      const PriceDiffCount = Math.ceil(PriceDiff / this.params.GridDiff);\r\n\r\n      const xx = Array(PriceDiffCount + 1)\r\n        .join(',')\r\n        .split(',')\r\n        .map((item, index) => index * this.params.GridDiff + MinPrice);\r\n\r\n      const yy: number[] = [];\r\n      const Map: { [index: string]: number } = {};\r\n\r\n      let bakRule: OrderRule | null = null;\r\n      OrderRule.forEach((rule) => {\r\n        if (!bakRule) {\r\n          bakRule = rule;\r\n          return;\r\n        }\r\n        const perRule = bakRule;\r\n        bakRule = rule;\r\n\r\n        const center = perRule.Next;\r\n        // 仓位不符合规范\r\n        // if (center.Position <= perRule.Position || center.Position >= rule.Position || center.Price <= perRule.Price || center.Price >= rule.Price) {\r\n        center.Position = (perRule.Position + rule.Position) / 2;\r\n        center.Price = (rule.Price + perRule.Price) / 2;\r\n        switch (center.Type) {\r\n          case 'L':\r\n            center.Position = center.Position - (center.Position - perRule.Position) * -0.5;\r\n            center.Price = center.Price - (center.Price - rule.Price) * -0.5;\r\n            break;\r\n          case '7':\r\n            center.Position = center.Position - (center.Position - rule.Position) * -0.5;\r\n            center.Price = center.Price - (center.Price - perRule.Price) * -0.5;\r\n            break;\r\n        }\r\n        // }\r\n\r\n        const centerSum = center.Price * center.Position;\r\n        const beginSum = perRule.Price * perRule.Position;\r\n        const endSum = rule.Price * rule.Position;\r\n        const bc = beginSum / centerSum;\r\n        const ec = endSum / centerSum;\r\n\r\n        xx.forEach((item) => {\r\n          if (item < perRule.Price || item > rule.Price) return;\r\n          if (item === rule.Price) return yy.push(rule.Position);\r\n          if (item === center.Price) return yy.push(center.Position);\r\n          if (item === perRule.Price) return yy.push(perRule.Position);\r\n          let begin: { Price: number; Position: number } = perRule;\r\n          let end: { Price: number; Position: number } = center;\r\n          if (item > center.Price) {\r\n            begin = center;\r\n            end = rule;\r\n          }\r\n          const p = (item - begin.Price) / (end.Price - begin.Price);\r\n          const pp = 0.5 + p * 1.5;\r\n          let add = 0;\r\n          const Line = () => p * (begin.Position - end.Position);\r\n          const PicL = () => ((2 - 1 / pp) / 1.5) * (begin.Position - end.Position);\r\n          const Pic7 = () => ((1 / (2.5 - pp) - 0.5) / 1.5) * (begin.Position - end.Position);\r\n          const str = center.Type.split('');\r\n          const bp = str[0];\r\n          const ep = str[str.length - 1];\r\n          if (center.Type === '') {\r\n            add = Line();\r\n          } else if ((item < center.Price && bp === '7') || (item > center.Price && ep === '7')) {\r\n            add = Pic7();\r\n          } else {\r\n            add = PicL();\r\n          }\r\n          const Position = begin.Position - add;\r\n          yy.push(Position > 0 ? Math.floor(Position) : Math.ceil(Position));\r\n        });\r\n      });\r\n\r\n      this.params.PricePosition = xx.map((x, index) => [x, yy[index]]);\r\n\r\n      myChart.setOption({\r\n        tooltip: {\r\n          trigger: 'axis',\r\n          axisPointer: {\r\n            type: 'cross',\r\n            label: {\r\n              backgroundColor: '#6a7985',\r\n            },\r\n          },\r\n        },\r\n        legend: {\r\n          data: ['仓位'],\r\n        },\r\n        grid: {\r\n          left: '20px',\r\n          right: '14px',\r\n          bottom: '40px',\r\n          containLabel: true,\r\n        },\r\n        xAxis: [{ type: 'category', boundaryGap: false }],\r\n        yAxis: [\r\n          {\r\n            type: 'value',\r\n            min: 'dataMin',\r\n            max: 'dataMax',\r\n          },\r\n        ],\r\n      });\r\n\r\n      myChart.setOption({\r\n        xAxis: {\r\n          data: xx,\r\n        },\r\n        series: [\r\n          {\r\n            name: '仓位',\r\n            type: 'bar',\r\n            data: yy,\r\n          },\r\n        ],\r\n      });\r\n    }\r\n    return 'success';\r\n  }\r\n\r\n  ChooseRule(item: OrderRule) {\r\n    this.settingDailogSub = true;\r\n    this.ActiveRule = item;\r\n  }\r\n  RuleChoosed(item: RuleTypeEnum) {\r\n    if (!this.ActiveRule) return;\r\n    this.ActiveRule.Next.Type = item;\r\n    this.settingDailogSub = false;\r\n  }\r\n  ActiveRule: null | OrderRule = null;\r\n  params: UserParams = {\r\n    Hedging: 1,\r\n    OrderRule: [\r\n      { Price: 4000, Position: -400, Next: { Type: 'L7', Position: 0, Price: 0 } },\r\n      { Price: 20000, Position: -2000, Next: { Type: 'L7', Position: 0, Price: 0 } },\r\n    ],\r\n    OpenOrderMaxCount: 15, // 单边最多挂单数量\r\n    Runner: false,\r\n    Key: Vue.AppStore.localState.UserKey,\r\n    BasePrice: 11700,\r\n    BasePriceWeight: 1,\r\n    GridDiff: 1, // 挂单间隔\r\n    MaxStepVol: 1000,\r\n    Reports: [],\r\n    Time: 0,\r\n    Pwd: '',\r\n    ReportKey: '',\r\n    BakSetting: [],\r\n    PricePosition: [],\r\n    HedgingDiffVol: 0,\r\n  };\r\n\r\n  serverparams: UserParams | null = null;\r\n  OrderRuleModel = [];\r\n\r\n  detailValue = 0;\r\n  detailMin = Infinity;\r\n  detailMax = 0;\r\n  @Watch('detailValue')\r\n  detailValueChange() {\r\n    this.Runder3();\r\n  }\r\n\r\n  SnapshotData: SnapshotData[] = [];\r\n\r\n  mounted() {\r\n    this.mountedd();\r\n  }\r\n\r\n  allowedDates(val: string) {\r\n    return this.params.Reports.indexOf(val) > -1;\r\n  }\r\n\r\n  async mountedd() {\r\n    this.GetParams();\r\n  }\r\n\r\n  async Submit() {\r\n    (this.$refs.dialog as any).save(this.Dates);\r\n    const begin = new Date(this.Dates[0]);\r\n    const end = new Date(this.Dates[1]);\r\n    if (begin.getTime() > end.getTime()) {\r\n      const temp = begin.getTime();\r\n      begin.setTime(end.getTime());\r\n      end.setTime(temp);\r\n    }\r\n    this.Times = [DateFormat(begin, 'yyyy-MM-dd'), DateFormat(end, 'yyyy-MM-dd')];\r\n    Vue.AppStore.localState.TimesCache = this.Times;\r\n    this.SnapshotData = [];\r\n    await this.GetData(this.params.Reports.length - 1);\r\n    this.Render();\r\n  }\r\n\r\n  RenderInit() {\r\n    this.SnapshotData = [];\r\n    myChart = echarts.init(this.$refs.MyAccount as any);\r\n    myChart.setOption({\r\n      // color: ['#04a4cc'],\r\n      tooltip: {\r\n        trigger: 'axis',\r\n        axisPointer: {\r\n          type: 'cross',\r\n          label: {\r\n            backgroundColor: '#6a7985',\r\n          },\r\n        },\r\n      },\r\n      legend: {\r\n        data: ['24H均价', 'BTC价格', '账户资产', '持仓'],\r\n        selected: {\r\n          '24H均价': false,\r\n          BTC价格: false,\r\n          账户资产: true,\r\n          持仓: false,\r\n        },\r\n      },\r\n      dataZoom: [\r\n        {\r\n          show: true,\r\n          start: 0,\r\n          end: 100,\r\n        },\r\n      ],\r\n      grid: {\r\n        left: '20px',\r\n        right: '14px',\r\n        bottom: '40px',\r\n        // top: '40px',\r\n        containLabel: true,\r\n      },\r\n      title: {\r\n        text: ``,\r\n        subtext: `BTC价格走势 与 账户资产、持仓 走势分析`,\r\n        top: 4,\r\n      },\r\n      xAxis: [{ type: 'category', boundaryGap: false }],\r\n      yAxis: [\r\n        {\r\n          type: 'value',\r\n          position: 'left',\r\n          name: 'BTC价格(USD)',\r\n          axisLabel: {\r\n            formatter: '{value}',\r\n          },\r\n          min: 'dataMin',\r\n          max: 'dataMax',\r\n          splitLine: { show: false },\r\n        },\r\n        {\r\n          type: 'value',\r\n          position: 'right',\r\n          name: '账户资产',\r\n          axisLabel: {\r\n            formatter: '{value}',\r\n          },\r\n          min: (value) => {\r\n            return Math.floor(value.min * 10000) / 10000;\r\n          },\r\n          splitLine: { show: false },\r\n        },\r\n        {\r\n          type: 'value',\r\n          offset: 50,\r\n          position: 'right',\r\n          name: '持仓(张)',\r\n          axisLabel: {\r\n            formatter: '{value}',\r\n          },\r\n          // min: -200,\r\n          // max: 1000,\r\n          splitLine: { show: false },\r\n          // inverse: true,\r\n        },\r\n      ],\r\n    });\r\n\r\n    myChart2 = echarts.init(this.$refs.MyAccountReport as any);\r\n    myChart2.setOption({\r\n      backgroundColor: '#404a59',\r\n      tooltip: {\r\n        trigger: 'axis',\r\n        axisPointer: {\r\n          type: 'cross',\r\n          label: {\r\n            backgroundColor: '#6a7985',\r\n          },\r\n        },\r\n      },\r\n      legend: {\r\n        data: ['资产'],\r\n      },\r\n      grid: {\r\n        left: '20px',\r\n        right: '14px',\r\n        bottom: '40px',\r\n        containLabel: true,\r\n      },\r\n      title: {\r\n        text: ``,\r\n        subtext: `资产-变更趋势`,\r\n        top: 4,\r\n      },\r\n      xAxis: {\r\n        type: 'value',\r\n        name: 'BTC 价格',\r\n        nameGap: 4,\r\n        nameTextStyle: {\r\n          color: '#fff',\r\n          fontSize: 14,\r\n        },\r\n        // max: 31,\r\n        splitLine: {\r\n          show: false,\r\n        },\r\n        axisLine: {\r\n          lineStyle: {\r\n            color: '#eee',\r\n          },\r\n        },\r\n      },\r\n      yAxis: {\r\n        type: 'value',\r\n        name: '账户权益',\r\n        nameLocation: 'end',\r\n        nameGap: 4,\r\n        nameTextStyle: {\r\n          color: '#fff',\r\n          fontSize: 16,\r\n        },\r\n        axisLine: {\r\n          lineStyle: {\r\n            color: '#eee',\r\n          },\r\n        },\r\n        splitLine: {\r\n          show: false,\r\n        },\r\n      },\r\n      visualMap: [\r\n        {\r\n          left: 'right',\r\n          bottom: '5%',\r\n          dimension: 2,\r\n          min: 0,\r\n          max: 50,\r\n          itemHeight: 0,\r\n\r\n          precision: 0.1,\r\n          text: ['白色表示旧数据'],\r\n          textGap: 30,\r\n          textStyle: {\r\n            color: '#fff',\r\n          },\r\n          inRange: {\r\n            colorLightness: [1, 0.5],\r\n            symbolSize: [2, 2],\r\n            colorAlpha: [0.1, 1],\r\n            color: '#04a4cc',\r\n          },\r\n          outOfRange: {\r\n            color: ['rgba(255,255,255,.2)'],\r\n          },\r\n          controller: {\r\n            inRange: {\r\n              color: ['#04a4cc'],\r\n            },\r\n            outOfRange: {\r\n              color: ['#04a4cc'],\r\n            },\r\n          },\r\n        },\r\n      ],\r\n    });\r\n\r\n    myChart3 = echarts.init(this.$refs.MyAccountDetail as any);\r\n    myChart3.setOption({\r\n      // color: ['#04a4cc'],\r\n      tooltip: {\r\n        trigger: 'axis',\r\n        axisPointer: {\r\n          type: 'cross',\r\n          label: {\r\n            backgroundColor: '#6a7985',\r\n          },\r\n        },\r\n      },\r\n      legend: {\r\n        data: ['资产变更-详情'],\r\n      },\r\n      grid: {\r\n        left: '20px',\r\n        right: '14px',\r\n        bottom: '40px',\r\n        top: '80px',\r\n        containLabel: true,\r\n      },\r\n      title: {\r\n        text: ``,\r\n        subtext: ``,\r\n        top: 4,\r\n      },\r\n      xAxis: [{ type: 'category', boundaryGap: false, scale: true, axisLine: { onZero: false }, splitLine: { show: false }, min: 'dataMin', max: 'dataMax' }],\r\n      yAxis: [\r\n        {\r\n          type: 'value',\r\n          position: 'left',\r\n          name: '价格: USD',\r\n          axisLabel: {\r\n            formatter: '{value}',\r\n          },\r\n          min: 'dataMin',\r\n          splitLine: { show: false },\r\n        },\r\n        {\r\n          type: 'value',\r\n          position: 'right',\r\n          name: '账户权益',\r\n          axisLabel: {\r\n            formatter: '{value}',\r\n          },\r\n          min: (value) => {\r\n            return Math.floor(value.min * 10000) / 10000;\r\n          },\r\n          splitLine: { show: false },\r\n        },\r\n      ],\r\n    });\r\n  }\r\n\r\n  Render() {\r\n    if (!myChart) return;\r\n    if (!myChart2) return;\r\n    if (!myChart3) return;\r\n    interface Aaaa {\r\n      name: string;\r\n      type: string;\r\n      data: number[];\r\n      color: string;\r\n      yAxisIndex: number;\r\n      areaStyle: any;\r\n    }\r\n    const btcsss: any = { name: '资产(BTC)', type: 'line', color: 'rgba(4, 164, 204, 1)', areaStyle: { color: 'rgba(4, 164, 204, 0.2)' }, key: 'BtcSum', y: 1 };\r\n    const usdsss: any = { name: '资产(USD)', type: 'line', color: 'rgba(4, 164, 204, 1)', areaStyle: { color: 'rgba(4, 164, 204, 0.2)' }, key: 'UsdSum', y: 1 };\r\n    console.log('IsUSD', this.IsUSD);\r\n    const conf: any[] = [\r\n      this.IsUSD ? usdsss : btcsss,\r\n      { name: '24H均价', type: 'line', color: '#666666', key: 'p24h', y: 0 },\r\n      { name: 'BTC价格', type: 'line', color: 'rgba(4, 100, 100, 0.5)', key: 'Price', y: 0 },\r\n      { name: '持仓', type: 'line', color: 'rgba(255, 0, 150, 0.5)', areaStyle: { color: 'rgba(255, 0, 150, 0.2)' }, key: 'quantity', y: 2 },\r\n      // { name: '目标持仓', type: 'line', color: '#ff9900', key: 'WantPos', y: 2 },\r\n    ];\r\n    const render: { [index: string]: Aaaa } = {};\r\n\r\n    conf.forEach((item) => {\r\n      render[item.name] = {\r\n        yAxisIndex: item.y,\r\n        name: item.name,\r\n        type: item.type,\r\n        data: [] as number[],\r\n        color: item.color,\r\n        areaStyle: item.areaStyle,\r\n      };\r\n    });\r\n\r\n    const xxx: string[] = [];\r\n    KlineData = {};\r\n    const arr: KData[] = [];\r\n\r\n    const all: LogData[] = [];\r\n    const SnapshotData = this.DataFilter(this.SnapshotData);\r\n    SnapshotData.forEach((item) => {\r\n      item.data.forEach((data) => {\r\n        all.push(data);\r\n        conf.forEach((val) => {\r\n          const value = (data as any)[val.key];\r\n          // if (val.key === 'WantPos' && typeof value === 'object') return render[val.name].data.push(value[0]);\r\n          render[val.name].data.push(value);\r\n        });\r\n        xxx.push(DateFormat(data.Ts, 'hh:mm:ss\\r\\nMM-dd'));\r\n      });\r\n    });\r\n\r\n    const key = this.IsUSD ? 'UsdSum' : 'BtcSum';\r\n\r\n    this.SnapshotData.forEach((item) => {\r\n      item.data.forEach((data) => {\r\n        const sum = data[key];\r\n        // 计算K线\r\n        const kline = KlineData[data.Price];\r\n        if (!kline) {\r\n          KlineData[data.Price] = {\r\n            low: sum,\r\n            high: sum,\r\n            open: sum,\r\n            close: sum,\r\n            price: data.Price,\r\n            details: [data],\r\n          };\r\n          arr.push(KlineData[data.Price]);\r\n          return;\r\n        }\r\n        kline.low = Math.min(kline.low, sum);\r\n        kline.high = Math.max(kline.high, sum);\r\n        kline.close = sum;\r\n        kline.details.push(data);\r\n\r\n        this.detailMax = Math.max(this.detailMax, data.Price);\r\n        this.detailMin = Math.min(this.detailMin, data.Price);\r\n      });\r\n    });\r\n\r\n    // 过滤资产不变更的数据\r\n    let ii = 0;\r\n    arr.forEach((i) => {\r\n      const close = i.close; //  - i.open;\r\n      const low = i.low; //  - i.open;\r\n      const high = i.high; //  - i.open;\r\n      // if (low === 0 && high === 0) return;\r\n      const replace = arr[ii++];\r\n      replace.low = low;\r\n      replace.high = high;\r\n      replace.close = close;\r\n    });\r\n\r\n    arr.splice(ii, arr.length - ii);\r\n    arr.sort((a, b) => a.price - b.price);\r\n    // console.log(arr);\r\n\r\n    myChart.setOption({\r\n      xAxis: {\r\n        data: xxx,\r\n      },\r\n      series: [...conf.map((item) => render[item.name])],\r\n    });\r\n\r\n    const upColor = '#ec0000';\r\n    const upBorderColor = '#8A0000';\r\n    const downColor = '#00da3c';\r\n    const downBorderColor = '#008F28';\r\n\r\n    all.sort((a, b) => a.Price - b.Price);\r\n    const itemStyle = {\r\n      opacity: 0.8,\r\n      shadowBlur: 0,\r\n      shadowOffsetX: 0,\r\n      shadowOffsetY: 0,\r\n      shadowColor: 'rgba(0, 0, 0, 0.5)',\r\n    };\r\n    const prices = all.map((i) => i.Price);\r\n    const btcs = all.map((i) => i[key]);\r\n    const tss = all.map((i) => i.Ts);\r\n    myChart2.setOption({\r\n      xAxis: {\r\n        min: Math.min(...prices),\r\n        max: Math.max(...prices),\r\n      },\r\n      yAxis: {\r\n        min: Math.floor(Math.min(...btcs) * 10000) / 10000,\r\n        max: Math.ceil(Math.max(...btcs) * 10000) / 10000,\r\n      },\r\n      visualMap: [\r\n        {\r\n          dimension: 2,\r\n          min: Math.min(...tss),\r\n          max: Math.max(...tss),\r\n        },\r\n      ],\r\n      series: [\r\n        {\r\n          name: '',\r\n          type: 'scatter',\r\n          itemStyle,\r\n          // itemStyle: {\r\n          //   color: upColor,\r\n          //   color0: downColor,\r\n          //   borderColor: upBorderColor,\r\n          //   borderColor0: downBorderColor,\r\n          // },\r\n          data: all.map((i) => [i.Price, i[key], i.Ts]),\r\n        },\r\n      ],\r\n    });\r\n\r\n    const lastFile = SnapshotData[SnapshotData.length - 1];\r\n    if (!lastFile || !lastFile.data.length) return;\r\n    const lastPrice = lastFile.data[lastFile.data.length - 1].Price;\r\n    console.log(lastPrice);\r\n    this.detailValue = lastPrice;\r\n    // this.Runder3();\r\n  }\r\n\r\n  Runder3 = throttle(function(this: ImconfigPage) {\r\n    if (!myChart3) return;\r\n    const last = KlineData[this.detailValue];\r\n    const end = () => {\r\n      if (!myChart3) return;\r\n      // myChart3.clear();\r\n    };\r\n    if (!last) return end();\r\n    const key = this.IsUSD ? 'UsdSum' : 'BtcSum';\r\n\r\n    // 将数组内相邻的相同数据剔除\r\n    let lastBtcSum = -1;\r\n    const lastDetail = last.details.filter((item) => {\r\n      if (item[key] === lastBtcSum) return false;\r\n      lastBtcSum = item[key];\r\n      return true;\r\n    });\r\n    if (lastDetail.length < 2) return end();\r\n    const open = lastDetail[0][key];\r\n    const close = lastDetail[lastDetail.length - 1][key];\r\n    const p = Math.pow(10, this.BtcNumEnd);\r\n    const diff = Math.floor((close - open) * p) / p;\r\n    const title = `${last.price} USD 资产变更`;\r\n    const per = diff / open;\r\n    let subtext = `${last.price} USD 用户资产变更 ${diff > 0 ? '+ ' + diff : diff} (${Math.floor(per * 10000) / 100}%)`;\r\n    if (diff > 0) {\r\n      const diffTs = lastDetail[lastDetail.length - 1].Ts - lastDetail[0].Ts;\r\n      const nextDiff = Math.ceil(per); // 下一倍\r\n      // nextDiff / diff = nextDiffTs / diffTs;\r\n      const nextDiffTs = (nextDiff / per) * diffTs;\r\n      const timestr = DateFormat(lastDetail[0].Ts + nextDiffTs, 'yyyy年MM月dd日hh点');\r\n      const nextBtc = Math.floor((1 + nextDiff) * open * 10000) / 10000;\r\n      subtext += `\\r\\n以此预计在 ${timestr} 资产为 ${nextBtc}（${Math.floor(open * 10000) / 10000}的${nextDiff + 1}倍）`;\r\n    }\r\n    console.log(last);\r\n\r\n    myChart3.setOption({\r\n      legend: {\r\n        data: ['资产'],\r\n      },\r\n      title: {\r\n        subtext: subtext,\r\n      },\r\n      xAxis: {\r\n        data: lastDetail.map((item) => DateFormat(item.Ts, 'hh:mm:ss\\r\\nMM-dd')),\r\n      },\r\n      series: [\r\n        {\r\n          name: '资产',\r\n          yAxisIndex: 1,\r\n          type: 'line',\r\n          data: lastDetail.map((item) => item[key]),\r\n          color: 'rgba(4, 164, 204, 1)',\r\n          areaStyle: { color: 'rgba(4, 164, 204, 0.2)' },\r\n        } as any,\r\n        // {\r\n        //   name: '24H均价',\r\n        //   type: 'line',\r\n        //   data: lastDetail.map((item) => item.p24h),\r\n        // },\r\n      ],\r\n    });\r\n  }, 1000);\r\n\r\n  async GetData(index: number, times = 1): Promise<any> {\r\n    if (times > 5) return;\r\n    let FileName = this.params.Reports[index];\r\n    if (!FileName) return;\r\n    const TodayStr = DateFormat(new Date(), 'yyyy/MM/dd');\r\n    // 今日的数据，要获取最新的\r\n    if (FileName.match(TodayStr)) FileName = `${FileName}?t=${Date.now()}`;\r\n    const close = PageLoading(`获取报表:${FileName}`);\r\n    const Data = await this.$AnalysisStore.GetData(`https://fmex-database.oss-cn-qingdao.aliyuncs.com` + FileName);\r\n    close();\r\n    if (!Data) {\r\n      return this.GetData(index, ++times);\r\n    }\r\n    this.ArrayFilter(Data, 5000); // 数据太大，取样一下\r\n    this.SnapshotData.unshift({\r\n      FileName,\r\n      data: Data,\r\n    });\r\n    // 获取下一个报表\r\n    const thisIndex = --index;\r\n    const next = this.params.Reports[thisIndex];\r\n    if (next) return this.GetData(thisIndex);\r\n    this.Render();\r\n    this.loadeddata = true;\r\n    return true;\r\n  }\r\n\r\n  async GetParams() {\r\n    const close = PageLoading(`获取账号配置`);\r\n    const Data = await this.$AnalysisStore.GetJson(`https://fmex-database.oss-cn-qingdao.aliyuncs.com/runner/report/${this.report}/config`, true);\r\n    close();\r\n    if (!Data) return this.$AppStore.Error('配置文件加载失败，请刷新重试');\r\n    if (!('Hedging' in Data)) Data.Hedging = 0; // 旧数据设置\r\n    if (!('HedgingDiffVol' in Data)) Data.HedgingDiffVol = 0; // 旧数据设置\r\n\r\n    this.params = clone(Data);\r\n    this.serverparams = Data;\r\n    if (this.params.Hedging) this.$set(this.$AppStore.localState.IsUsdBenWei, this.params.ReportKey, 1); // U本位\r\n    this.OnViewModeChange(); // 更新报表显示数据模型\r\n    this.loaded = true;\r\n    this.params.Key = this.$AppStore.localState.UserKey;\r\n    if (this.IsAdmin) {\r\n      const find = Vue.AppStore.localState.AdminUsers.filter((item) => item.ReportKey === this.report)[0];\r\n      if (find) {\r\n        this.params.Key = find.Key;\r\n      }\r\n    }\r\n    if (this.params.Reports.length === 0) return;\r\n    // this.Times[0] = this.Times[1] = this.params.Reports[this.params.Reports.length - 1];\r\n    // 为空的时候，默认最后 5 条数据\r\n    if (this.ShowReports.length === 0) {\r\n      this.ShowReports = this.ReportsSelect.slice(this.ReportsSelect.length - Math.min(this.ReportsSelect.length, 5));\r\n    }\r\n\r\n    this.GetData(this.params.Reports.length - 1);\r\n    this.RenderInit();\r\n  }\r\n\r\n  async validate() {\r\n    const check = this.RunderSetting();\r\n    if (check !== 'success') return;\r\n    this.params.ReportKey = this.report;\r\n    // this.$AppStore.localState.UserKey = this.params.Key;\r\n    const res = await FunApi.post('/grid/set-params', this.params).then((res) => res.data as CodeObj<any>);\r\n    console.log(res);\r\n    this.settingDailog = false;\r\n    if (res.Error()) return this.$AppStore.Error(res.Msg);\r\n    this.$AppStore.Error('保存成功');\r\n  }\r\n\r\n  async deleteIt() {\r\n    const bool = confirm('永久删除后，无法找回数据，是否删除？');\r\n    if (!bool) return;\r\n    this.params.ReportKey = this.report;\r\n    const res = await FunApi.post('/grid/del-params', this.params).then((res) => res.data as CodeObj<any>);\r\n    console.log(res);\r\n    this.settingDailog = false;\r\n    if (res.Error()) return this.$AppStore.Error(res.Msg);\r\n    this.$AppStore.localState.UserKey = '';\r\n    this.$AppStore.localState.ApiInfo.DataKey = '';\r\n    this.$AppStore.Error('删除成功');\r\n    // this.$router.push();\r\n  }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Imconfig.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Imconfig.vue?vue&type=script&lang=ts&\"","// Styles\nimport './VBtnToggle.sass'\n\n// Mixins\nimport ButtonGroup from '../../mixins/button-group'\nimport Colorable from '../../mixins/colorable'\n\n// Utilities\nimport mixins from '../../util/mixins'\n\n/* @vue/component */\nexport default mixins(\n  ButtonGroup,\n  Colorable\n).extend({\n  name: 'v-btn-toggle',\n\n  props: {\n    backgroundColor: String,\n    borderless: Boolean,\n    dense: Boolean,\n    group: Boolean,\n    rounded: Boolean,\n    shaped: Boolean,\n    tile: Boolean,\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        ...ButtonGroup.options.computed.classes.call(this),\n        'v-btn-toggle': true,\n        'v-btn-toggle--borderless': this.borderless,\n        'v-btn-toggle--dense': this.dense,\n        'v-btn-toggle--group': this.group,\n        'v-btn-toggle--rounded': this.rounded,\n        'v-btn-toggle--shaped': this.shaped,\n        'v-btn-toggle--tile': this.tile,\n        ...this.themeClasses,\n      }\n    },\n  },\n\n  methods: {\n    genData () {\n      const data = this.setTextColor(this.color, {\n        ...ButtonGroup.options.methods.genData.call(this),\n      })\n\n      if (this.group) return data\n\n      return this.setBackgroundColor(this.backgroundColor, data)\n    },\n  },\n})\n","import { render, staticRenderFns } from \"./Imconfig.vue?vue&type=template&id=a88e2bde&scoped=true&\"\nimport script from \"./Imconfig.vue?vue&type=script&lang=ts&\"\nexport * from \"./Imconfig.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Imconfig.vue?vue&type=style&index=0&id=a88e2bde&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a88e2bde\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VBtnToggle } from 'vuetify/lib/components/VBtnToggle';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VItemGroup } from 'vuetify/lib/components/VItemGroup';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAction } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemIcon } from 'vuetify/lib/components/VList';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSlider } from 'vuetify/lib/components/VSlider';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VAlert,VBtn,VBtnToggle,VCard,VCardText,VCol,VContainer,VDialog,VForm,VIcon,VItemGroup,VListItem,VListItemAction,VListItemContent,VListItemIcon,VRow,VSelect,VSlider,VSwitch,VTextField})\n"],"sourceRoot":""}